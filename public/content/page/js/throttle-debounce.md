### Thtottle and Debounce（节流与防抖）

| 文档创建人 | 创建日期   | 文档内容             | 更新时间   |
| ---------- | ---------- | -------------------- | ---------- |
| adsionli   | 2021-11-04 | 节流与防抖的知识学习 | 2021-11-04 |

## 节流和防抖

### 1. 什么是防抖(debounce)

比较官方的解释是：有一个等待时长，如果在这个等待时长内，再次调用了函数，就取消上一个定时器，并新建一个定时器。

> 比如说，设置一个时长为0-500ms的事件响应，在这500ms内，如果事件再次被触发，事件之前的回调就不会触发，从当前次触发的事件开始重新计时，直到有一个事件等待达到了500ms才会触发事件的回调。
>
> 其实有点像dnf里面的女武神开霸体护甲，霸体护甲持续的时间是不会被击倒、挑飞的，只有霸体护甲结束的时候才会被击倒、挑飞。这里的击倒和挑飞相当于回调，如果有人开G，永远处于霸体护甲的Buff下面，那就不会触发击倒、挑飞。就是这么个意思。

### 2. 什么是节流(throttle)

同样比较官方的解释是：有一个等待时长，每隔一段这个等待时长，函数必须执行一次。如果在这个等待时长内，当前延迟执行没有完成，它会忽略接下来调用该函数的请求，不会去取消上一个定时器。

> 这里就不比如说了，直接通俗解释：
>
> 这个开G的家伙，给了一点你能赢的曙光，虽然这个开G的可以一直保持霸体护甲的buff,但是在原则上的霸体护甲时间到的时候，还是会被击倒、挑飞的，所以你就得抓住这个时间点，一套带走他。

### 3. 防抖和节流之间的不同点

防抖在等待时长的时候如果有一个事件进来了，就取消上一次的定时器，创建一个新的定时器。但是节流却不会，它会忽略这些在等待时长中的请求，直到时间走完并执行回调，如果这时候又下一次事件进入，就在开始创建新的计时器。

### 4. 防抖与节流的适用事件

1. 防抖主要用于适用于 `input`, `keyup`, `keydown` 等事件, 亦或者 `click` 事件需要防止用户在某个时间范围内多次点击的时候，也可以用。
2. `throttle` 适用于 `scroll`, `mousemove` 等事件。因为`scroll`或是`mousemove`出发都是十分频繁的，一旦出现一点变化都会立马执行回调，所以节流会更加适合

> 通过上述的分析，我自己本身得出了一个可能不是最正确的结论：
>
> 防抖就是一个设置了最大时长的节流。
>
> 虽然不知道对不对，但是我感觉很有道理。分析起来也很简单，防抖直到最后一次符合等待时长的才会执行回调，那么设置防抖的事件开始到事件回调执行的时长给节流，不就很类似了嘛，我觉得是这样，还望大家指正，可以发邮件给我：adsionli@foxmail.com，大家共同进步。

## 节流和防抖的代码实现

### 节流的实现

> 主要参考的文章来自于:[节流代码实现参考](https://juejin.cn/post/6959116301285457928)

1. 

### 防抖的代码实现

> 主要参考文章来自于:[防抖的代码实现](https://juejin.cn/post/6951594100848066574)

## 节流和防抖的使用场景(个人见解)

1. 
2. 
3. 
4. 
5. 
6. 
7. 

## 内容的总结



